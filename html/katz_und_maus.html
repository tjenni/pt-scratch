<!DOCTYPE html>

<html lang="de">
<head>
  <meta charset="utf-8"/>
  <title>Katz und Maus</title>
</head>

<body>

<div class="pt-book">

<!-- load css file -->
<script type="text/javascript">
  var fileref = document.createElement("link");
  fileref.rel = "stylesheet";
  fileref.type = "text/css";
  fileref.href = "_css/pt-book.css";
  document.getElementsByTagName("head")[0].appendChild(fileref)
</script>




<h2>Katz und Maus</h2>

<p>
  Mit Scratch kann man relativ leicht kleine Spiele erstellen. Wir werden nun zusammen ein Katz und Mausspiel programmieren. Wenn du jetzt nicht alles verstehst, mach dir keine Sorgen. Wir werden in späteren Kapitel alles noch einmal sorgfältig anschauen.
</p>

<p>
  Bei dem Spiel steuert der Spieler eine Katze . Die Katze muss in 20 Sekunden versuchen so viele Mäuse wie möglich zu fangen.
</p>

<p>
  Zum Start, surfe auf die Seite <a href="https://scratch.mit.edu/projects/editor" target="_blank">scratch.mit.edu</a> und erstelle ein neues Projekt. Klicke unten rechts bei <em>Bühne</em> auf das <em>Bühnenbild 1</em> und zeichne ein grosses grünes Rechteck. Die Bühne sieht nun aus wie ein grünes Rasenstück auf welchem dann die Katze die Mäuse fängt.
</p>




<h3>Die Katze</h3>

<p>
Füge eine Katzenfigur (Cat 2) hinzu, siehe Abb. 1. Übernimm für diese Figur den Code von Prog. 1.
</p>

<p class="image">
  <img src="katz_und_maus/cat2.svg" alt="Cat2 Sprite" width="40%" />
</p>
<p class="caption">
  Abb. 1 – Kostüm der Figur "Cat 2".
</p>


<pre class="scratch">
Wenn die grüne Flagge angeklickt
gehe zu x:(0) y:(0)
zeige dich
setze Stoppuhr zurück
wiederhole bis < (Stoppuhr) > (20) >
  falls < (Entfernung von (Mauszeiger v)) > (5)>, dann
    gehe (5) er Schritt
  ende

  drehe dich zu (Mauszeiger v)
ende
verstecke dich
stoppe [alles v]
</pre>
<p class="caption">
    Prog. 1 – Programm für die Katze
</p>

<p>
  Wir lesen dieses Programm gemeinsam durch. Programme sind wie Kochrezepte. Sie werden von oben nach unten schrittweise ausgeführt.
</p>

<p>
  Der erste Befehl <b class="ereignisse">Wenn <b class="operatoren">grüne Flagge</b> angeklickt wird</b> wird nur dann ausgeführt, wenn man oberhalb der Bühne auf die grüne Flagge klickt.
</p>

<p>
  Mit dem zweiten Befehl <b class="bewegung">gehe zu x: 0 y: 0</b> wird die Katze in die Mitte der Bühne verschoben. Die Mitte der Bühne hat die Koordinaten (0,0). Anschliessend wird mit <b class="aussehen">zeige dich</b>, die Katze angezeigt.
</p>

<p>
  Ein Spiel soll jeweils 20 Sekunden dauern. Mit dem Befehl <b class="fühlen">setze Stoppuhr zurück</b>  wird die interne Stoppuhr auf null gesetzt. Die Stoppuhr zählt automatisch die Sekunden die verstreichen.
</p>

<p>
  Jetzt kommt der Zangenbefehl <b class="steuerung">wiederhole bis <b class="fühlen">Stoppuhr</b> <b class="operatoren"> > 20 </b> </b>. Das bedeutet, dass alle Befehle in der Zange wiederholt werden, bis die Stoppuhr mehr als 20 Sekunden anzeigt. D.h. das Spiel ist in seiner Dauer auf 20 Sekunden begrenzt.
</p>

<p>
  In der Wiederholen-Zange gibt es einen weiteren Zangenbefehl <b class="steuerung">falls <b class="fühlen"> Entfernung von Mauszeiger </b> <b class="operatoren"> > 5 </b>, dann</b>. Die Befehle innerhalb von diesem Zangenbefehl werden nur dann ausgeführt, wenn die Katz weiter als 5 Schritte vom Mauszeiger entfernt ist. Falls dies der Fall ist, bewegt sich die Katze mit <b class="bewegung">gehe 5 er Schritt</b>  vorwärts.
</p>

<p>
  Zuletzt wird mit <b class="bewegung">drehe dich zu Mauszeiger</b> die Katze immer in Richtung des Mauszeigers ausgerichtet. Da sich alle diese  Befehle in der <b class="steuerung">wiederhole bis...</b>-Zange befinden, werden sie immerzu wiederholt. D.h. die Katze wird sich immerzu auf den Mauszeiger ausrichten und wenn sie mehr als 5 Schritte entfernt ist, sich in dessen Richtung bewegen. Du kannst das Programm testen, indem du auf die grüne Flagge klickst.
</p>

<p>
  Nach dem <b  class="steuerung">wiederhole bis ... </b>-Befehl, räumen wir etwas auf. Zuerst wird die Katze mit <b class="aussehen">verstecke dich</b> ausgeblendet und dann das Programm mit <b  class="steuerung">stoppe [alles]</b> beendet.
</p>




<h3>Die Maus</h3>

<p>
Weiter geht es mit der Maus. Füge die Mausfigur  (Mouse1) hinzu und übernimm für sie den folgenden Code.
</p>

<p class="image">
  <img src="katz_und_maus/mouse1-a.svg" alt="Mouse1 Sprite" width="40%" />
</p>
<p class="caption">
  Abb. 2 – Kostüm der Figur "Mouse1".
</p>


<pre class="scratch">
Wenn die grüne Flagge angeklickt
setze [Punkte v] auf (0)
verstecke dich
wiederhole fortlaufend
  gehe zu (Zufallsposition v)
  setze Richtung auf (Zufallszahl von (0) bis (360)) Grad
  zeige dich
  warte bis < wird [Katze v] berührt? >
  verstecke dich
  ändere [Punkte v] um (1)
  spiele Klang [Bite v] ganz
  warte (Zufallszahl von (0) bis (2)) Sekunden
ende
</pre>
<p class="caption">
    Prog. 2 – Programm für die Maus
</p>


<p>
  Das Mausprogramm lesen wir ebenfalls gemeinsam durch. Der erste Befehl lautet wie bei der Katze <b class="ereignisse">Wenn <b class="operatoren">grüne Flagge</b> angeklickt wird</b>. Der zweite Befehl erstellt setzt die Variable <b class="variablen">Punkte</b> auf 0. Eine Variable  kann man sich wie ein Notizzettel vorstellen auf den man eine einzige Zahl notieren kann. Der Name der Variable verrät ihren Zweck. Es handelt sich um den Punktestand, welcher der Spieler während des Spiels hat.
</p>

<p>
  Jetzt wird die Maus mit dem Befehl <b class="aussehen">verstecke dich</b> versteckt. Als nächstes kommt der Zangenbefehl <b  class="steuerung">wiederhole fortlaufend</b>. Alle Befehle in dieser Zange werden immerzu wiederholt.
</p>

<p>
  Wir setzen die noch unsichtbare Maus an eine Zufallsposition und geben ihr eine Zufallsrichtung. Dann lassen wir die Maus mit <b class="aussehen">zeige dich</b> erscheinen.
</p>

<p>
  Das Mausprogramm wird anschliessend gestoppt, bis die Maus die Katze berührt. Falls das der Fall ist, verstecken wir die Maus, erhöhen den Punktestand um 1 und spielen den Ton "Bite" ab.
</p>

<p>
  Das Mausprogramm wartet dann eine zufällige Anzahl von Sekunden. Es beginnt wieder von vorne. Die Maus erscheint an einer zufälligen Position und wartet, bis die Katze sie berührt.
</p>


<hr class="footer">

<p>
  Autoren:  T. Jenni<br />
  Letzte Änderung: 14. Mai 2021
</p>

<p class="license">
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
          <img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>
</p>

<p>
   <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title" style="font-style: italic;">Einsteigerkurs für den BBC micro:bit</span> von <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/tjenni/microbit" property="cc:attributionName" rel="cc:attributionURL">T. Jenni, et al.</a> ist lizenziert unter einer <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Namensnennung - Nicht-kommerziell - Weitergabe unter gleichen Bedingungen 4.0 International Lizenz</a>.
</p>

</div>



<!--
  Lade scratch block renderer
  https://github.com/scratchblocks/scratchblocks
-->
<script src="_js/scratchblocks-v3.4-min.js"></script>
<script src="_js/de.js"></script>

<script>
scratchblocks.loadLanguages({
  de : de
});

scratchblocks.renderMatching('pre.scratch', {
  style:     'scratch3',
  languages: ['de']
});

scratchblocks.renderMatching("code.scratch", {
  inline: true,
  style:     'scratch3',
  languages: ['de']
});

</script>

</body>
</html>
